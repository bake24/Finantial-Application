# –õ–æ–∫–∞–ª—å–Ω—ã–π HTTPS –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PWA

PWA —Ç—Ä–µ–±—É—é—Ç HTTPS –¥–ª—è —Ä–∞–±–æ—Ç—ã (–∫—Ä–æ–º–µ localhost). –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –Ω—É–∂–µ–Ω HTTPS.

## üöÄ –í–∞—Ä–∏–∞–Ω—Ç 1: ngrok (–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# macOS
brew install ngrok

# npm
npm install -g ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ: https://ngrok.com/download
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
npm run build
npm start

# 2. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ ngrok
ngrok http 3000

# –í—ã –ø–æ–ª—É—á–∏—Ç–µ:
# Forwarding: https://abc123.ngrok.io -> http://localhost:3000
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
‚úÖ –ë—ã—Å—Ç—Ä–æ (5 –º–∏–Ω—É—Ç)
‚úÖ –ù–∞—Å—Ç–æ—è—â–∏–π HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π URL (–º–æ–∂–Ω–æ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è)
‚úÖ –ò–Ω—Å–ø–µ–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Web Interface

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–π URL (–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ)
‚ùå –õ–∏–º–∏—Ç –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ
‚ùå –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

---

## üîí –í–∞—Ä–∏–∞–Ω—Ç 2: mkcert (–õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# macOS
brew install mkcert
brew install nss  # –¥–ª—è Firefox

# Linux
sudo apt install libnss3-tools
wget -O mkcert https://github.com/FiloSottile/mkcert/releases/download/v1.4.4/mkcert-v1.4.4-linux-amd64
chmod +x mkcert
sudo mv mkcert /usr/local/bin/

# Windows (Chocolatey)
choco install mkcert
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π CA
mkcert -install

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è localhost
mkcert localhost 127.0.0.1 ::1

# 3. –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ (—É–∑–Ω–∞–π—Ç–µ IP: ifconfig/ipconfig)
mkcert localhost 127.0.0.1 ::1 192.168.1.100

# –ë—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:
# - localhost+3.pem (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
# - localhost+3-key.pem (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å Next.js

–°–æ–∑–¥–∞–π—Ç–µ `server.js`:

```javascript
const { createServer } = require('https');
const { parse } = require('url');
const next = require('next');
const fs = require('fs');

const dev = process.env.NODE_ENV !== 'production';
const app = next({ dev });
const handle = app.getRequestHandler();

const httpsOptions = {
  key: fs.readFileSync('./localhost+3-key.pem'),
  cert: fs.readFileSync('./localhost+3.pem'),
};

app.prepare().then(() => {
  createServer(httpsOptions, (req, res) => {
    const parsedUrl = parse(req.url, true);
    handle(req, res, parsedUrl);
  }).listen(3000, (err) => {
    if (err) throw err;
    console.log('> Ready on https://localhost:3000');
  });
});
```

–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ `package.json`:

```json
{
  "scripts": {
    "dev:https": "node server.js"
  }
}
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
npm run dev:https
```

### –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

```bash
# 1. –£–∑–Ω–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π IP
# macOS/Linux
ifconfig | grep "inet "
# Windows
ipconfig

# –ü—Ä–∏–º–µ—Ä: 192.168.1.100

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å —ç—Ç–∏–º IP
mkcert 192.168.1.100

# 3. –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:
# - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Ç–æ–π –∂–µ WiFi —Å–µ—Ç–∏
# - –û—Ç–∫—Ä–æ–π—Ç–µ https://192.168.1.100:3000
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ë—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤.

**–û–±–æ–π—Ç–∏ –Ω–∞ iOS**:
1. Settings ‚Üí General ‚Üí VPN & Device Management
2. –ù–∞–π–¥–∏—Ç–µ mkcert —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
3. –í–∫–ª—é—á–∏—Ç–µ –¥–æ–≤–µ—Ä–∏–µ

**–û–±–æ–π—Ç–∏ –Ω–∞ Android**:
- –ù–∞–∂–º–∏—Ç–µ "Advanced" ‚Üí "Proceed anyway"

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π URL
‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
‚ùå –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–æ–∂–Ω–µ–µ
‚ùå –ù—É–∂–Ω–æ –¥–æ–≤–µ—Ä—è—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É –Ω–∞ –∫–∞–∂–¥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
‚ùå –¢–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

---

## üåê –í–∞—Ä–∏–∞–Ω—Ç 3: Vercel/Netlify Preview

### Vercel

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI
npm i -g vercel

# 2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
vercel login

# 3. –î–µ–ø–ª–æ–π
vercel

# –í—ã –ø–æ–ª—É—á–∏—Ç–µ:
# https://your-app-abc123.vercel.app
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
‚úÖ –ù–∞—Å—Ç–æ—è—â–∏–π production environment
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS
‚úÖ CDN
‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
‚ùå –¢—Ä–µ–±—É–µ—Ç –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

### Android —á–µ—Ä–µ–∑ USB (Chrome Remote Debugging)

```bash
# 1. –ù–∞ Android: –í–∫–ª—é—á–∏—Ç–µ USB Debugging
# Settings ‚Üí Developer Options ‚Üí USB Debugging

# 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É

# 3. Chrome –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ: chrome://inspect

# 4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ

# 5. –í–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

# 6. –í–∫–ª—é—á–∏—Ç–µ Port Forwarding:
# localhost:3000 ‚Üí localhost:3000

# 7. –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –æ—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
# Chrome –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ –≤–∞—à –ü–ö
```

### iOS —á–µ—Ä–µ–∑ USB (Safari Web Inspector)

```bash
# 1. –ù–∞ iPhone: 
# Settings ‚Üí Safari ‚Üí Advanced ‚Üí Web Inspector (ON)

# 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ iPhone –∫ Mac —á–µ—Ä–µ–∑ –∫–∞–±–µ–ª—å

# 3. Safari –Ω–∞ Mac:
# Safari ‚Üí Preferences ‚Üí Advanced ‚Üí 
# "Show Develop menu in menu bar" (–≤–∫–ª—é—á–∏—Ç—å)

# 4. Safari ‚Üí Develop ‚Üí [–í–∞—à iPhone]

# 5. –ù–∞ iPhone –æ—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç

# 6. –í –º–µ–Ω—é Develop –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

# –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä –æ—Ç–∫—Ä–æ–µ—Ç—Å—è
```

‚ö†Ô∏è **–î–ª—è iOS —Ç—Ä–µ–±—É–µ—Ç—Å—è Mac**. –ù–∞ Windows –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –¥–µ–ø–ª–æ–π.

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS

### –í –±—Ä–∞—É–∑–µ—Ä–µ

```
‚úÖ –ó–∞–º–æ–∫ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
‚úÖ URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å https://
‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω (–∑–µ–ª–µ–Ω—ã–π)
```

### –í –∫–æ–Ω—Å–æ–ª–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL
curl -I https://localhost:3000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl s_client -connect localhost:3000 -showcerts
```

### Service Worker

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
navigator.serviceWorker.ready.then(registration => {
  console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
  console.log('Scope:', registration.scope);
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS
console.log('Is secure:', window.isSecureContext);
// true - HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
// false - —Ç—Ä–µ–±—É–µ—Ç—Å—è HTTPS
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "Service Worker –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è"

```
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ—Ç HTTPS
–†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –≤—ã—à–µ
```

### "NET::ERR_CERT_AUTHORITY_INVALID"

```
–ü—Ä–∏—á–∏–Ω–∞: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ –¥–æ–≤–µ—Ä–µ–Ω
–†–µ—à–µ–Ω–∏–µ: 
1. mkcert -install
2. –ù–∞ –º–æ–±–∏–ª—å–Ω–æ–º: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–æ–≤–µ—Ä–∏–µ –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É
```

### "–ù–µ –º–æ–≥—É –æ—Ç–∫—Ä—ã—Ç—å —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ"

```
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ –∏–ª–∏ firewall
–†–µ—à–µ–Ω–∏–µ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –æ–¥–Ω–æ–π WiFi
2. –û—Ç–∫–ª—é—á–∏—Ç–µ firewall –Ω–∞ –ü–ö
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok
```

### "PWA –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è"

```
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
‚úÖ HTTPS
‚úÖ manifest.json
‚úÖ Service Worker
‚úÖ –ò–∫–æ–Ω–∫–∏ 192x192 –∏ 512x512
‚úÖ start_url –¥–æ—Å—Ç—É–ø–µ–Ω –æ—Ñ–ª–∞–π–Ω

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Lighthouse –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```

---

## üìã Quick Start Checklist

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: ngrok (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
npm run build
npm start
# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
ngrok http 3000
# –û—Ç–∫—Ä–æ–π—Ç–µ URL –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º

# –í–∞—Ä–∏–∞–Ω—Ç 2: mkcert (–¥–ª—è —Å–µ—Ä—å–µ–∑–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
mkcert -install
mkcert localhost
# –°–æ–∑–¥–∞–π—Ç–µ server.js (—Å–º. –≤—ã—à–µ)
npm run dev:https
# –û—Ç–∫—Ä–æ–π—Ç–µ https://localhost:3000

# –í–∞—Ä–∏–∞–Ω—Ç 3: Vercel (–¥–ª—è production-like —Ç–µ—Å—Ç–∞)
vercel
# –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **ngrok**

### –î–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **mkcert**

### –î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Vercel/Netlify**

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [mkcert GitHub](https://github.com/FiloSottile/mkcert)
- [ngrok Docs](https://ngrok.com/docs)
- [Chrome Remote Debugging](https://developer.chrome.com/docs/devtools/remote-debugging/)
- [Safari Web Inspector](https://developer.apple.com/safari/tools/)

---

‚ú® **–£—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!**

